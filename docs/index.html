<!doctype html><html lang="en"><head><meta charset="UTF-8"><title>Modmake Docs</title><link rel="stylesheet" href="/modmake/main.css"></head><body><nav class="header"><div><img src="/modmake/img/img.svg" alt="logo"><h3>Modmake</h3></div><div><a href="https://github.com/saylorsolutions/modmake" target="_blank">GitHub</a> <a href="https://github.com/saylorsolutions/modmake/blob/main/example/helloworld/README.md" target="_blank">Examples</a> <a href="/modmake/godoc" target="_blank">GoDoc</a></div></nav><div id="frame"><div id="side-panel"><a href="#introduction">Introduction</a> <ul><li><a href="#introduction_project-commitments">Project Commitments</a></li><li><a href="#introduction_getting-started">Getting Started</a></li></ul><a href="#build-model">Build Model</a> <ul><li><a href="#build-model_pin-latest">PinLatest</a></li><li><a href="#build-model_steps">Steps</a></li><li><a href="#build-model_tasks">Tasks</a></li><li><a href="#build-model_invocation">Invocation</a></li><li><a href="#build-model_composability">Build Composability</a></li><li><a href="#build-model_api-patterns">API Patterns</a></li></ul><a href="#modmake-cli">Modmake CLI</a> <ul><li><a href="#modmake-cli_resolution">Finding Your Build</a></li><li><a href="#modmake-cli_invocation">CLI Invocation</a></li><li><a href="#modmake-cli_file-watching">File Watching</a></li><li><a href="#modmake-cli_watch-recipes">Helpful Recipes</a></li></ul><a href="#utilities">Utility Functions</a> <ul><li><a href="#utilities_task-helpers">Task Helpers</a></li><li><a href="#utilities_go-tools">Go Tools</a></li><li><a href="#utilities_compression">Compression</a></li><li><a href="#utilities_git">Git Functions</a></li></ul></div> <section id="content"><h1 id="introduction">Introduction</h1> <p>Modmake is a build system inspired by <a href="https://www.gnu.org/software/make/">GNU Make</a> and <a href="https://gradle.org/">Gradle</a>, but specifically tailored to Go modules.
It also makes an attempt at providing a lot of the fundamental automation needs of Go projects in development.</p>
<aside>
<p><strong>This software is still early in development and pre-v1</strong>, but it's already in use for orchestrating non-trivial Go builds.
Any feedback on the design or functionality of Modmake may be reported in a <a href="https://github.com/saylorsolutions/modmake/issues/new/choose">new issue</a> on GitHub.</p>
<p>Thanks in advance! üòÅ</p>
</aside>
<h2 id="introduction_project-commitments">Project Commitments</h2> <ul><li>The last 3 major Go versions will be supported. At the time of this writing 1.24 is the latest, so this module specifies 1.22.</li><li>The primarily supported method for invoking Modmake builds is <code>go run</code>. The <a href="#modmake-cli">Modmake CLI</a> just makes that a little easier.</li><li>A user should need nothing more than the Go toolchain (of a supported version) to use Modmake. This supports an idealized slow ramp to onboarding with this system. However, additional tooling may be required as more automation requirements are introduced, so the <code>tools</code> step should be used to <code>go install</code> additional dependencies.</li></ul><h2 id="introduction_getting-started">Getting Started</h2> <p>To get started using Modmake in your own project, you'll first need to <code>go get</code> it.</p><code class="block">go get github.com/saylorsolutions/modmake@v0.5.1</code><p>Next, create <code>modmake/build.go</code> (relative to the root of your project) and enter this code into it.</p><pre>
package main

import (
    . "github.com/saylorsolutions/modmake"
)

func main() {
    b := NewBuild()
    // This is where you can customize your new Build.
    b.Execute()
}</pre><p>You can run the default <code>build</code> step with <code>go run ./modmake build</code></p><p>The rest of the docs will discuss the <i>concepts</i> of a build model in Modmake.</p><aside>Alternatively, you could use the <a href="#modmake-cli">Modmake CLI's</a> <code>init</code> sub-command to automate these steps. For the impatient, take a look at the <a href="https://github.com/saylorsolutions/modmake/blob/main/example/helloworld/README.md">examples</a> to get more hands-on with Modmake.</aside><h1 id="build-model">Build Model</h1> <p>A <code>Build</code> model includes a set of standard steps that do little by default. This is to establish a standard structure for a Build for consistency's sake. More build steps may be <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Build_AddStep">added as needed</a>.</p><p>A Build is intended to act much like any other Go-based CLI tool. The difference is that it's 100% intended to be run with <code>go run</code>. Of course ‚Äî just like any other Go executable ‚Äî a Modmake build may be built into a single static executable, but this is not required.</p><p>Several flags to control execution are provided, and a user may introspect a build model without looking at the code. See the <a href="https://github.com/saylorsolutions/modmake/blob/main/example/helloworld/README.md">hello world example</a> for more details on <code>steps</code> and <code>graph</code> output.</p><aside>Skipped steps will not run their operation or before/after run hooks, but will still invoke dependencies. To prevent executing dependencies and only run the specified Step(s), use the <code>--only</code> flag when calling the build.</aside><aside>One or more Steps may be skipped with the <code>--skip</code> flag, but any step specified when the Build is invoked will be run regardless.</aside><h2 id="build-model_pin-latest">PinLatest</h2> <p>For consistent builds, it's recommended to use <code>Go().PinLatestV1</code></p>
<p>This call will download and pin the build to the latest v1 patch version of the Go toolchain, given a specific minor version.</p>
<p>This should be used at the top of the <code>main</code> function of your build to ensure it takes effect before any steps are executed.</p>
<pre>
func main() {
    // This will pin to the latest patch version of 1.22, complete with any security patches that have been released.
    Go().PinLatestV1(22)
	
    b := NewBuild()
    // Remaining build logic...
}
</pre>
<h2 id="build-model_steps">Steps</h2> <p>A <code>Step</code> is something that may be invoked with either <code>go run</code> or the <a href="#modmake-cli">modmake CLI</a>, but may also
have <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Step_DependsOn">dependencies</a> and
<a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Step_BeforeRun">pre/post</a> actions.</p>
<p>Step dependencies are arranged as a directed acyclic graph (a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">DAG</a>).
If a cycle is detected during invocation ‚Äî or while running the builtin <code>graph</code> step ‚Äî then the Build will panic to include details of the error.</p>
<p>A step's <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Step_BeforeRun">BeforeRun</a> hooks will run in order <em>after</em> dependency steps have executed in order.</p>
<ul>
<li>Dependencies are good for orchestration and ensuring order of operations.</li>
<li>Before/After hooks are good for actions that are <!-- raw HTML omitted -->intrinsic<!-- raw HTML omitted --> to a <code>Step</code>'s execution.</li>
</ul>
<h3>Default Steps</h3>
<p>Here are the steps added by default to each <code>NewBuild</code>.
This is done to ensure a consistent base structure for every build.</p>
<ul>
<li><code>tools</code> - This step is for installing external tools that may be needed for the Build to function as expected.</li>
<li><code>generate</code> - This step is for generating code (potentially with newly installed tools) that will be required for <code>test</code> and later steps. Depends on <code>tools</code></li>
<li><code>test</code> - This step should run unit tests in the project. Depends on <code>generate</code>.</li>
<li><code>benchmark</code> - This step is skipped by default (it's not very often that these need to be run), but the step is here when required. Depends on <code>test</code>.</li>
<li><code>build</code> - This step is for building the code</li>
<li><code>package</code> - This step is for packaging executables into an easily distributable/deployable format.</li>
</ul>
<aside>
<p><strong>Note:</strong> the default build Steps do nothing by default.
A default Step's <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Step_Does">Does</a> or <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Step_DependsOn">DependsOn</a> method must be used to make it perform some operation.</p>
</aside>
<h3>Utility Steps</h3>
<ul>
<li><code>graph</code> - Prints a graph of steps and their dependencies.</li>
<li><code>steps</code> - Prints a list of all steps in a build and their descriptions. Very greppable.</li>
</ul>
<h2 id="build-model_tasks">Tasks</h2> <p>A <code>Task</code> fits into Modmake at a more atomic level.</p><ul><li>A <code>Task</code> enables more flexible expression of build logic, which contrasts with the structure and standardized expression of a <code>Step</code>.</li><li>While a <code>Task</code> and a <code>Step</code> have similarities, they serve very different purposes within a <code>Build</code>. Namely, only a <code>Step</code> may be invoked directly with <code>go run</code>.</li></ul><p>A Task is able to chain other tasks with <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Task_Then">Then</a>, and handle failure with <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Task_Catch">Catch</a>.</p><p>There are <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Task">several tasks</a> that may be used to express your desired logic. A custom Task may be created as a simple function with this signature.</p><pre>
Task(func(ctx context.Context) error {
    // Custom task logic here
    return nil
})</pre><aside>Any Task can chain other operations after it, but this can be cumbersome with many Tasks. Many Tasks may instead be run in a sequence with the <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Script">Script</a> helper function. Any failure that occurs in the Script will stop the sequence, and the error will be returned.</aside><h2 id="build-model_invocation">Invocation</h2> <p>Any Build step may be invoked with either <code>go run</code> or the <a href="#modmake-cli">Modmake CLI</a>, whichever is most convenient. Here are the basic steps for setting up a Modmake build.</p><ol><li>Create a build file relative to the root of your Go module code in either <code>/modmake/build.go</code>, or at the root, generally as <code>/build.go</code>.</li><li>Configure and test the various steps needed by calling them with <code>go run</code>.</li><li>Commit build code to version control so others can use the Build steps.</li></ol><img src="/modmake/img/invocation.png" alt="invocation example"><h2 id="build-model_composability">Build Composability</h2> <p>Modmake build logic can be composed of many pieces, and there are a few approaches to this.</p>
<h3>Import</h3>
<p>The <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Build_Import">Import</a> function is one of the main methods used.</p>
<ul>
<li>A build can be divided into multiple <em>sub-builds</em> that are then imported together.</li>
<li>A build must be imported with a name that becomes its prefix.</li>
<li>The prefix is important to prevent collisions between different builds' step names.</li>
</ul>
<pre>
b := NewBuild()

other := NewBuild()
other.Test().Does(Go().TestAll())
b.Import(&quot;other&quot;, other)

// Now we can reference the other build with the prefix &quot;other:&quot;.
b.Step(&quot;other:test&quot;)

b.Execute() // Because &quot;other:test&quot; is now an established step, it can be invoked with &quot;go run&quot; too.
</pre>
<p>A variant of <code>Import</code> is <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#Build_ImportAndLink">ImportAndLink</a>, which intrinsically links the sub-build steps to that of its parent.</p>
<h3>CallBuild</h3>
<p>Another mechanism is <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_CallBuild">CallBuild</a>, which allows invoking steps in an unrelated build.
This is a very useful mechanism when working with Git submodules that use modmake.</p>
<p>There's an example for reference.</p>
<h3>CallRemote</h3>
<p>This is a more niche method, but it's still nice to have.</p>
<p><code>CallRemote</code> is used to call a Modmake step in a remote build that is in no way associated with your build.</p>
<p><strong>This is used in the <a href="https://github.com/saylorsolutions/modmake/blob/main/modmake/build.go">Modmake build</a> to generate this documentation!</strong></p>
<pre>
b.Tools().DependsOnRunner(&quot;install-modmake-docs&quot;, &quot;&quot;,
	CallRemote(&quot;github.com/saylorsolutions/modmake-docs@latest&quot;, &quot;modmake/build.go&quot;, &quot;modmake-docs:install&quot;))

/* ... */

b.Generate().DependsOnRunner(&quot;gen-docs&quot;, &quot;&quot;, Exec(&quot;modmake-docs&quot;, &quot;generate&quot;).
	// Exec configuration truncated for brevity...
)
</pre>
<h3>AppBuild</h3>
<p><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#AppBuild">AppBuild</a> is a higher level concept that allows for a lot less typing and more convenience.
This is a good fit when an app's build follows a common way of producing distributions.</p>
<p><code>AppBuild</code> is great for any of these cases.</p>
<ul>
<li>You want to produce multiple variants of the same application for different OS/arch combinations.</li>
<li>You want an easy way to customize build/packaging logic when it's needed, and rely on defaults otherwise.</li>
<li>You don't want to deal with managing build vs. distribution paths yourself.</li>
<li>You want a generated <code>install</code> step for your app to be used with <code>CallRemote</code>.</li>
</ul>
<p>It follows a similar pattern as a normal build, but it's specifically tailored to producing builds of the same application for different OS/arch combinations with similar expectations.
Each combination of OS and arch in an <code>AppBuild</code> is called a variant.
They can be individually customized or their build step can be configured at the <code>AppBuild</code> level.</p>
<pre>
a := NewAppBuild(&quot;modmake&quot;, &quot;cmd/modmake&quot;, version).
    Build(func(gb *GoBuild) {
        gb.
            StripDebugSymbols().
            SetVariable(&quot;main&quot;, &quot;gitHash&quot;, git.CommitHash()).
            SetVariable(&quot;main&quot;, &quot;gitBranch&quot;, git.BranchName())
    })

// HostVariant for local testing.
a.HostVariant()

// The same build logic will be applied to all variants.
// The default packaging will be used.
a.Variant(&quot;windows&quot;, &quot;amd64&quot;)
a.Variant(&quot;linux&quot;, &quot;amd64&quot;)
a.Variant(&quot;linux&quot;, &quot;arm64&quot;)
a.Variant(&quot;darwin&quot;, &quot;amd64&quot;)
a.Variant(&quot;darwin&quot;, &quot;arm64&quot;)
b.ImportApp(a)
</pre>
<ul>
<li>A new <code>AppBuild</code> is created with some basic information: name, path, and version.</li>
<li>The <code>AppBuild</code> above is using a consistent build step configured at the higher level (variants can override this logic).</li>
<li>Packaging is not being configured above, so the defaults are used.
<ul>
<li>For Windows builds, the default is to package the binary in a zip file.</li>
<li>For everything else, the binary is packaged in a tar.gz.</li>
</ul>
</li>
<li>There's also a <code>HostVariant</code> that will match your build machine's OS and arch. This is most useful for local testing.</li>
<li>An additional step will be generated automatically for each AppBuild: <code>install</code>. To reference this step, prefix it with the AppBuild name. <code>modmake:install</code> would be used in the code above.</li>
</ul>
<h2 id="build-model_api-patterns">API Patterns</h2> <p>There are a few common patterns that should be consistently represented around the code base.</p><ul><li><code>Runner</code> may be a parameter or a return value, but <code>Task</code> may only be a return value.<ul><li>This is because a Task is just a function implementing Runner, but a Runner may be <i>anything</i> with a <code>Run</code> method.</li><li>There are a few exceptions to this, mainly for utilities that are specialized for working with Tasks.</li></ul></li><li>When a filesystem path is an expected parameter, it should be represented as a <a href="https://github.com/saylorsolutions/modmake/blob/main/pathstring.go">PathString</a>. This allows for more consistent, safe, and convenient manipulation of paths throughout the package, without mistaking them for normal strings or module paths.</li><li>The API may panic at configuration time, but should always return an error at run time.<ul><li>A panic at configuration time is intended to be a clear indicator to the developer that something is configured incorrectly, or some invariant has been violated.</li><li>Runners and Tasks should always return an error from their Run method instead of panicking. If a panic happens inside a Run function, then it's very likely a bug.</li></ul></li><li>If a goroutine is started in a Task, it should exit before the Task returns. This makes Task execution more predictable and easier to understand.</li></ul><h1 id="modmake-cli">Modmake CLI</h1> <p>The CLI is 100% optional. It's provided to make working with Modmake builds a little more convenient. That being said, there are some features that make a lot more sense to add to the CLI.</p><p>Using plain <code>go run</code> is still a primarily supported Modmake invocation method, and likely will be in perpetuity, but the CLI can provide more consistency to both build resolution and invocation. It can also be used to set environment variables that may influence build behavior, providing a sort of build parameterization mechanism when used with <a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_F">Format strings</a>.</p><aside>By default, the CLI will change its working directory to the root of your Go module (the directory where <code>go.mod</code> resides) if not already run in that location. This behavior <i>can</i> be overridden, but it's not recommended, and this override may be removed in a later version.</aside><p>Since this is a 100% Go tool, you could use <code>go install</code> to install the CLI, like this.</p><code class="block">go install github.com/saylorsolutions/modmake/cmd/modmake@v0.5.1</code><p>However, you can get a CLI release for your OS <a href="https://github.com/saylorsolutions/modmake/releases">here</a>. The release bundles have binaries with version information embedded within them for transparency.</p><p>Once downloaded and added to your <code>PATH</code>, run <code>modmake --version</code> to see these details.</p><h2 id="modmake-cli_resolution">Finding Your Build</h2> <p>By default, the CLI looks for your Modmake build in this order:</p><ol><li>In a directory called <code>modmake</code> at the root of your module.</li><li>In a Go file called <code>build.go</code> at the root of your module.</li></ol><p>If none of the locations above are found, then you will need to tell the CLI where to locate your build code with. See <code>modmake --help</code> for details.</p><aside>It's recommended to use the <code>modmake</code> directory for all but the most trivial builds. This provides the best known tradeoff of flexibility and discoverability.</aside><h2 id="modmake-cli_invocation">CLI Invocation</h2> <p>The CLI has its own flags that may be used to influence the Modmake build invocation context. To see a listing of these flags see the output of <code>modmake --help</code></p><p>Because a Modmake build may <i>also</i> accept flags, the user will need to disambiguate between CLI flags and build flags. To pass build flags through the CLI, prefix build flags and arguments with <code>--</code> like this.</p><code class="block">modmake -e SOME_VAR=value -- --skip generate build</code><h2 id="modmake-cli_file-watching">File Watching</h2> <p>A new feature was recently added to help developers iterate quickly: file watching.<br>A directory (and optionally its subdirectories) can be watched for changes using the CLI.</p><code class="block">modmake --watch=./some/dir:*.js,*.css --subdirs --debounce=1s run-dev</code><ul><li>The command above will watch the <code>./some/dir</code> directory, and match files using the glob patterns <code>*.js</code> or <code>*.css</code>.</li><ul><li>Watch path and file patterns must be separated with <code>:</code>.</li><li>Different file patterns may be specified and separated by <code>,</code> characters.</li><li>If no file patterns are specified, then any changed files will match and trigger a rerun.</li></ul><li>The <code>--subdirs</code> says that modmake should watch subdirectories too, and <code>--debounce</code> prevents automated processes from triggering another run prematurely.</li><ul><li>It's best to set <code>debounce</code> when matching files would be changed as a circumstance of running the named step.</li></ul><li>Finally, <code>run-dev</code> is the step in the modmake build that should be run initially and each time a matching file changes.</li><ul><li>This works for any step in any modmake build.</li><li>Child processes will be safely cleaned up.</li></ul></ul><h2 id="modmake-cli_watch-recipes">Helpful Recipes</h2> <p>Here are some helpful recipes with file watching.</p><p><b>Run tests every time a go file anywhere in the module changes.</b> <code class="block">modmake --watch=.:*.go --subdirs test</code></p><p><b>Watch for UI changes to re-run a web server.</b> <code class="block">modmake --watch=./frontend/static:*.js,*.css --subdirs --debounce=1s run</code></p><p><b>Regenerate templ code when changed. Multiple steps can be run just like normal.</b> <code class="block">modmake --watch=./cmd/modmake-docs:*.templ,*.css,*.go --subdirs --debounce=1s generate run</code></p><aside>This is still a very new feature, so please <a href="https://github.com/saylorsolutions/modmake/issues/new/choose">report an issue</a> if you encounter one. Feel free to use the same mechanism to suggest more recipes for this section of the docs.</aside><h1 id="utilities">Utility Functions</h1> <p>There are a few helpful, general purpose utilities that have been added to Modmake over time. Some of them in an attempt to have some level of parity with more mature build systems.</p><p>This is a subset of all functionality provided. For the full listing, see <a href="https://saylorsolutions.github.io/modmake/godoc">the API docs</a>.</p><ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_F">Format strings</a> - Used to inject environment variable values into strings in one line. Allows providing defaults in case the environment variable is undefined.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#PathString">PathString</a> - Used to solve some of the cross-platform scripting incompatibilities. All paths in Modmake use forward slash (<code>/</code>) as a path separator, which is normalized upon use if needed.</li><ul><li>PathString can also be used to perform various filesystem operations.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Path">Path</a> - Used to create a new <code>PathString</code></li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#PathString_CopyTo">CopyTo</a> - Used to copy the file referenced by this <code>PathString</code> to another location.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#PathString_Create">Create</a> - Creates the file referenced by this <code>PathString</code>.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#PathString_Dir">Dir</a> - Returns a <code>PathString</code> of the containing directory.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#PathString_Exists">Exists</a> - Returns whether the <code>PathString</code> refers to a file that exists.</li><li>And more...</li></ul></ul><h2 id="utilities_task-helpers">Task Helpers</h2> <p>Here are the most common Task helpers.</p><ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Script">Script</a> - Script allows creating a Task that executes each Runner in sequence, returning the first error encountered.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_NoOp">NoOp</a> - Produces a Task that does nothing and returns a nil error. Most useful for testing purposes, or as a basis for extension with Then.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_WithoutErr">WithoutErr</a> - Takes a function that does not return an error and returns a Task. This is mostly for simplifying calling conventions.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_WithoutContext">WithoutContext</a> - Takes a function that does not listen to a context and returns a Task. This is mostly for simplifying calling conventions.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Plain">Plain</a> - Takes a simple function and returns a Task. This is mostly for simplifying calling conventions.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Print">Print</a> - Returns a Task that prints a message and returns.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#func_Error">Error</a> - Returns a Task that returns an error.</li><li>And more...</li></ul><h2 id="utilities_go-tools">Go Tools</h2> <p>Accessing the Go toolchain.</p><ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools">Go Tools</a> - Using the <code>Go()</code> function provides programmatic access to the Go toolchain. This is used extensively in Modmake.</li><ul><li>These functions can be accessed by calling <code>Go()</code>, which enables accessing specific Go toolchain capabilities.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Build">Build</a> - Used to compile Go binaries. It can also compile shared libraries and other formats.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Run">Run</a> - Used to compile and run the code at a path in the module. The target path must reference a main package.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Test">Test</a> - Runs all tests in the module.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Benchmark">Benchmark</a> - Runs all benchmark tests. The default build model will leave the <code>benchmark</code> step disabled</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Generate">Generate</a> - Run all <code>//go:generate</code> commands in the module.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Vet">Vet</a> - Vets code in the given path(s).</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Format">Format</a> - Formats code in the given path(s).</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Clean">Clean</a> - This can be used to clean various caches kept by the Go toolchain.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_GetEnv">GetEnv</a> - Allows querying for Go tools environment variable state.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Command">Command</a> - For cases where the provided GoTools methods aren't sufficient, this is a good fallback because it allows more direct access to GoTools.</li></ul><li>There are also Go package management functions.</li><ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Get">Get</a> - Gets a module and adds it to this modules dependencies.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_Install">Install</a> - Installs a Go module in <code>$GOPATH/bin</code>.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_ModTidy">ModTidy</a> - Tidies the module's go.mod and go.sum.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_ModuleName">ModuleName</a> - Returns the current module's name.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_ModuleRoot">ModuleRoot</a> - Returns the absolute path to the root of the current module.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_ToModulePackage">ToModulePackage</a> - Returns the relative package path to a path rooted relative to the module.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#GoTools_ToModulePath">ToModulePath</a> - Works the opposite of <code>ToModulePackage</code>, converting a module package path to a regular path.</li></ul><li>And more...</li></ul><h2 id="utilities_compression">Compression</h2> <p>Currently available compression helpers.</p><ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#TarArchive">TarArchive</a> - Provides a consistent interface to *.tar.gz compression.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake#ZipArchive">ZipArchive</a> - Provides a consistent interface to *.zip compression.</li></ul><h2 id="utilities_git">Git Functions</h2> <p>There are a few Git-related functions in <code>pkg/git</code> that could help with version tagging builds and general automation.</p><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#index">See pkg/git for more details</a> <ul><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Exec">Exec</a> - Executes a git command.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutput">ExecOutput</a> - Executes a git command and returns its output.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_BranchName">BranchName</a> - Returns the currently checked out branch.</li><li><a href="https://saylorsolutions.github.io/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CommitHash">CommitHash</a> - Returns the currently checked commit hash.</li><li>And more...</li></ul></section></div></body></html>