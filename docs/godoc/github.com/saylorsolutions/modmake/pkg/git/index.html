<!doctype html><html lang="en"><head><meta charset="UTF-8"><title>Modmake Docs - github.com/saylorsolutions/modmake/pkg/git</title><link rel="stylesheet" href="/modmake/main.css"></head><body><nav class="header"><div><img src="/modmake/img/img.svg" alt="logo"><h3>Modmake</h3></div><div><a href="https://github.com/saylorsolutions/modmake" target="_blank">GitHub</a> <a href="https://github.com/saylorsolutions/modmake/blob/main/example/helloworld/README.md" target="_blank">Examples</a> <a href="/modmake/godoc" target="_blank">GoDoc</a></div></nav><div id="frame"><div id="side-panel"><a href="#index">Index</a><a href="#variables">Variables</a><ul><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ErrNoGit">ErrNoGit</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ExecTimeout">ExecTimeout</a></li></ul><a href="#functions">Functions</a><ul><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_AssertNoChanges">AssertNoChanges</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_BranchName">BranchName</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Changes">Changes</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CloneAt">CloneAt</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CommitHash">CommitHash</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Exec">Exec</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutput">ExecOutput</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutputCtx">ExecOutputCtx</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_RepositoryRoot">RepositoryRoot</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateInit">SubmoduleUpdateInit</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateRemote">SubmoduleUpdateRemote</a></li></ul></div> <section id="content" class="code-docs"><h1>Overview</h1><p>Package git provides some helpers for using the Git CLI in Modmake builds.
This includes:
  - Updating submodules with &#34;--init&#34; or &#34;--remote&#34;
  - Cloning repositories
  - Getting commit and branch details</p><a href="/modmake/godoc">All Packages</a><hr><h1 id="index">Index <a href="#index">[link]</a></h1><a href="#variables">Variables</a><ul><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ErrNoGit">ErrNoGit</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ExecTimeout">ExecTimeout</a></li></ul><a href="#functions">Functions</a><ul><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_AssertNoChanges">AssertNoChanges</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_BranchName">BranchName</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Changes">Changes</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CloneAt">CloneAt</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CommitHash">CommitHash</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Exec">Exec</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutput">ExecOutput</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutputCtx">ExecOutputCtx</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_RepositoryRoot">RepositoryRoot</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateInit">SubmoduleUpdateInit</a></li><li><a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateRemote">SubmoduleUpdateRemote</a></li></ul><hr><h1 id="variables">Variables <a href="#variables">[link]</a></h1><ul><hr><h2 id="var_ErrNoGit">ErrNoGit <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ErrNoGit">[link]</a></h2><pre><code>	ErrNoGit    = errors.New(&#34;unable to locate git executable&#34;)</code></pre><p></p><hr><h2 id="var_ExecTimeout">ExecTimeout <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#var_ExecTimeout">[link]</a></h2><pre><code>	ExecTimeout = 5 * time.Second // Used to limit how long [Exec] should operate. May be overridden.</code></pre><p>Used to limit how long [Exec] should operate. May be overridden.</p></ul><hr><h1 id="functions">Functions <a href="#functions">[link]</a></h1><hr><h2 id="func_AssertNoChanges">AssertNoChanges <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_AssertNoChanges">[link]</a></h2><pre><code>func AssertNoChanges() modmake.Task</code></pre><p>AssertNoChanges creates a Task that returns an error if any changes in the
repository are known to Git.</p><hr><h2 id="func_BranchName">BranchName <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_BranchName">[link]</a></h2><pre><code>func BranchName() string</code></pre><p>BranchName returns the name of the currently checked out branch.</p><hr><h2 id="func_Changes">Changes <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Changes">[link]</a></h2><pre><code>func Changes(ctx context.Context) (files, insertions, deletions int, err error)</code></pre><p>Changes outputs how many files were changed according to Git, with the
number of insertions and deletions.</p><hr><h2 id="func_CloneAt">CloneAt <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CloneAt">[link]</a></h2><pre><code>func CloneAt(repo string, destination modmake.PathString) modmake.Task</code></pre><p>CloneAt will clone the repository identified by repo at the given
destination.</p><hr><h2 id="func_CommitHash">CommitHash <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_CommitHash">[link]</a></h2><pre><code>func CommitHash() string</code></pre><p>CommitHash returns the commit hash of the currently checked out commit.</p><hr><h2 id="func_Exec">Exec <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_Exec">[link]</a></h2><pre><code>func Exec(subcmd string, args ...string) *modmake.Command</code></pre><p>Exec will produce a modmake.Command that executes a git command. This
function will panic if a git executable cannot be located on the PATH.</p><hr><h2 id="func_ExecOutput">ExecOutput <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutput">[link]</a></h2><pre><code>func ExecOutput(subcmd string, args ...string) (string, error)</code></pre><p>ExecOutput will delegate to Exec and run the returned modmake.Command,
but will collect its output into a string. This will also use the execution
limit of ExecTimeout. If you want to override this timeout or exit after
some other condition, then use ExecOutputCtx.</p><hr><h2 id="func_ExecOutputCtx">ExecOutputCtx <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_ExecOutputCtx">[link]</a></h2><pre><code>func ExecOutputCtx(ctx context.Context, subcmd string, args ...string) (string, error)</code></pre><p>ExecOutputCtx will delegate to Exec and run the returned modmake.Command,
but will collect its output into a string. If the context is cancelled,
then the command will exit.</p><hr><h2 id="func_RepositoryRoot">RepositoryRoot <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_RepositoryRoot">[link]</a></h2><pre><code>func RepositoryRoot() string</code></pre><p>RepositoryRoot will attempt to locate the root path of the git repository.</p><hr><h2 id="func_SubmoduleUpdateInit">SubmoduleUpdateInit <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateInit">[link]</a></h2><pre><code>func SubmoduleUpdateInit(path ...string) modmake.Task</code></pre><p>SubmoduleUpdateInit will run &#39;git submodule update --init &lt;path&gt;&#39;, using
path if it&#39;s given.</p><hr><h2 id="func_SubmoduleUpdateRemote">SubmoduleUpdateRemote <a href="/modmake/godoc/github.com/saylorsolutions/modmake/pkg/git#func_SubmoduleUpdateRemote">[link]</a></h2><pre><code>func SubmoduleUpdateRemote(path ...string) modmake.Task</code></pre><p>SubmoduleUpdateRemote will run &#39;git submodule update --remote &lt;path&gt;&#39;,
using path if it&#39;s given.</p></section></div></body></html>